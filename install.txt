echo "Welcome to Kirollos installer ...\n\n"

echo "\n\ntimedatectl ...\n\n"

timedatectl set-ntp true

echo "\n\nList of devices connected ...\n\n"

lsblk

echo "\n\nEnter device name i.e : /dev/sdc "

read device

cfdisk $device

echo "\n\nformatting root partition ${device}1 ...\n\n"

mkfs.ext4 "${device}1"

echo "\n\nmounting ${device}1 ...\n\n"

mount "${device}1" /mnt

echo "\n\nInstalling base packages ...\n\n"

pacstrap /mnt base base-devel linux linux-firmware nano less dialog wpa_supplicant dhcpcd sudo reflector pacman-contrib usbutils pciutils

echo "\n\ngenerating fs file ...\n\n"

genfstab -U /mnt >> /mnt/etc/fstab

echo "\n\nchrooting ...\n\n"

arch-chroot /mnt

echo "\n\ngenerating timezone symbolic link ...\n\n"

ln -sf /usr/share/zoneinfo/Africa/Cairo /etc/localtime

echo "hwclocl ...\n\n"

hwclock --systohc

echo "\n\nchoosing localization ...\n\n"

echo en_US.UTF-8 UTF-8 >> /etc/locale.gen

echo "\n\ngenerating localization ...\n\n"

locale-gen

echo LANG=en_US.UTF-8 > /etc/locale.conf

export LANG=en_US.UTF-8

echo "\n\nsetting host name ...\n\n"

echo machine > /etc/hostname

printf "127.0.0.1	localhost\n::1	localhost\n127.0.1.1	machine.localdomain	machine" > /etc/hosts

echo "\n\nEnter the password for the root user : "

passwd

useradd -m -G sys,wheel,users,adm,log -s /bin/bash grep

echo "\n\nEnter the password for the user grep"

passwd grep

echo "\n\nMake the user grep from the sudoers ...\n\n"

EDITOR=nano visudo

echo "\n\nDownload and install grub and os-prober packages ...\n\n"

pacman -S grub os-prober

echo "\n\nInstall grub and making its config ...\n\n"

grub-install --target=i386-pc device

grub-mkconfig -o /boot/grub/grub/cfg


echo "\n\ninstallation finished , after rebooting install the other packages and set configs using the other script ...\n\n"
































